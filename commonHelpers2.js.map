{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["// const STORAGE_KEY = 'feedback-form-state';\n// const form = document.querySelector('.feedback-form');\n// const textarea = form.querySelector('textarea');\n// const input = form.querySelector('input');\n\n// form.addEventListener('submit', onFormSubmit);\n// textarea.addEventListener('input', onTextareaInput);\n// input.addEventListener('input', onInputChange);\n\n// populateTextarea();\n\n// function onFormSubmit(event) {\n//   event.preventDefault();\n//   localStorage.removeItem(STORAGE_KEY);\n//   event.currentTarget.reset();\n// }\n\n// function onTextareaInput(event) {\n//   const message = event.target.value;\n//   console.log(message);\n//   localStorage.setItem(STORAGE_KEY, message);\n// }\n\n// function populateTextarea() {\n//   const savedMassage = localStorage.getItem(STORAGE_KEY);\n//   if (savedMassage) {\n//     textarea.value = savedMassage;\n//   }\n// }\n\n// function onInputChange() {\n//   console.log(1);\n// }\n\nconst STORAGE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nconst textarea = form.querySelector('textarea');\nconst input = form.querySelector('input');\n\nform.addEventListener('submit', onFormSubmit);\ntextarea.addEventListener('input', onTextareaInput);\ninput.addEventListener('input', onInputChange);\n\npopulateTextarea();\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n  localStorage.removeItem(STORAGE_KEY);\n  event.currentTarget.reset();\n}\n\nfunction onTextareaInput(event) {\n  const prevousStorageState = localStorage.getItem(STORAGE_KEY);\n  const message = event.target.value;\n  let parsedJSON = {};\n  if (prevousStorageState) {\n    parsedJSON = JSON.parse(prevousStorageState);\n    parsedJSON.textarea = message;\n  } else {\n    parsedJSON = {\n      textarea: message,\n    };\n  }\n\n  console.log(message);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(parsedJSON));\n}\n\nfunction onInputChange(event) {\n  const prevousStorageState = localStorage.getItem(STORAGE_KEY);\n  const message = event.target.value;\n  let parsedJSON = {};\n\n  if (prevousStorageState) {\n    parsedJSON = JSON.parse(prevousStorageState);\n    parsedJSON.input = message;\n  } else {\n    parsedJSON = {\n      input: message,\n    };\n  }\n\n  console.log(message);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(parsedJSON));\n}\n\nfunction populateTextarea() {\n  const prevousStorageState = localStorage.getItem(STORAGE_KEY);\n  console.log(prevousStorageState);\n  if (prevousStorageState) {\n    const parsedJSON = JSON.parse(prevousStorageState);\n    textarea.value = parsedJSON.textarea || '';\n    input.value = parsedJSON.input || '';\n  }\n}\n"],"names":["STORAGE_KEY","form","textarea","input","onFormSubmit","onTextareaInput","onInputChange","populateTextarea","event","prevousStorageState","message","parsedJSON"],"mappings":"mCAkCA,MAAMA,EAAc,sBACdC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAWD,EAAK,cAAc,UAAU,EACxCE,EAAQF,EAAK,cAAc,OAAO,EAExCA,EAAK,iBAAiB,SAAUG,CAAY,EAC5CF,EAAS,iBAAiB,QAASG,CAAe,EAClDF,EAAM,iBAAiB,QAASG,CAAa,EAE7CC,IAEA,SAASH,EAAaI,EAAO,CAC3BA,EAAM,eAAc,EACpB,aAAa,WAAWR,CAAW,EACnCQ,EAAM,cAAc,OACtB,CAEA,SAASH,EAAgBG,EAAO,CAC9B,MAAMC,EAAsB,aAAa,QAAQT,CAAW,EACtDU,EAAUF,EAAM,OAAO,MAC7B,IAAIG,EAAa,CAAA,EACbF,GACFE,EAAa,KAAK,MAAMF,CAAmB,EAC3CE,EAAW,SAAWD,GAEtBC,EAAa,CACX,SAAUD,CAChB,EAGE,QAAQ,IAAIA,CAAO,EACnB,aAAa,QAAQV,EAAa,KAAK,UAAUW,CAAU,CAAC,CAC9D,CAEA,SAASL,EAAcE,EAAO,CAC5B,MAAMC,EAAsB,aAAa,QAAQT,CAAW,EACtDU,EAAUF,EAAM,OAAO,MAC7B,IAAIG,EAAa,CAAA,EAEbF,GACFE,EAAa,KAAK,MAAMF,CAAmB,EAC3CE,EAAW,MAAQD,GAEnBC,EAAa,CACX,MAAOD,CACb,EAGE,QAAQ,IAAIA,CAAO,EACnB,aAAa,QAAQV,EAAa,KAAK,UAAUW,CAAU,CAAC,CAC9D,CAEA,SAASJ,GAAmB,CAC1B,MAAME,EAAsB,aAAa,QAAQT,CAAW,EAE5D,GADA,QAAQ,IAAIS,CAAmB,EAC3BA,EAAqB,CACvB,MAAME,EAAa,KAAK,MAAMF,CAAmB,EACjDP,EAAS,MAAQS,EAAW,UAAY,GACxCR,EAAM,MAAQQ,EAAW,OAAS,EACnC,CACH"}